pipeline {
    agent any 
    tools {
	maven 'maven'
    }
    stages {
        stage('Build') { 
            steps {
		    dir('event-app'){
	                echo "Building" 
			sh "mvn --version"
			sh "ls -la"   
			sh "mvn clean package"
		    }
            }
        }
        stage('Test') { 
            steps {
                echo "Testing" 
                sh "./mvnw test"
            }
        }
        stage('Deploy') { 
            steps {
                echo "Deploying" 
		sh "mvnw spring-boot:build-image"
            }
        }
    }
}
